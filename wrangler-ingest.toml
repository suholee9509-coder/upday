# Cloudflare Workers Configuration for upday News Ingestion

name = "upday-ingest"
main = "workers/ingest.ts"
compatibility_date = "2026-02-01"

# Scheduled triggers for news ingestion
[triggers]
crons = ["0 */4 * * *"]  # Every 4 hours (6 times/day)

# Environment variables (set via Cloudflare dashboard or wrangler secret)
# Run: wrangler secret put SUPABASE_URL -c wrangler-ingest.toml
# Run: wrangler secret put SUPABASE_SERVICE_ROLE_KEY -c wrangler-ingest.toml
# Run: wrangler secret put OPENAI_API_KEY -c wrangler-ingest.toml  # For Korean translation
# Run: wrangler secret put CRON_SECRET -c wrangler-ingest.toml     # Optional: for manual trigger auth

[vars]
# Non-sensitive variables can go here
# SUPABASE_URL = "https://your-project.supabase.co"
